id: "ec"
aliases:
  - "ecere"
  - "ecp"
  - "ecs"
  - "ecc"
name: "eC"

install:
  manual: |
    ver="$(latest_release ecere/ecere-sdk)"
    git clone https://github.com/ecere/ecere-sdk.git -b "${ver}"
    pushd ecere-sdk
    make
    popd

main: "main.ec"
template: |
  class Main : Application
  {
     void Main()
     {
        PrintLn("Hello, world!");
     }
  }

compile: |
  ecp -c main.ec -o main.sym && ecc -c main.ec -o main.c && ecs -console main.sym main.imp -o main.main.ec && ecp -c main.main.ec -o main.main.sym && ecc -c main.main.ec -o main.main.c && clang main.c main.main.c -lecereCOM -o main
run: |
  ./main
