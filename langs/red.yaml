id: "red"
name: "Red"

install:
  apt:
    - libcurl5:i386
  manual: |
    install -d "${pkg}/opt/red/skel"
    install -d "${pkg}/usr/local/bin"

    path="$(curl -fsSL http://static.red-lang.org/download.html | grep -Eo '/dl/linux/[^"]+' | head -n1)"
    wget "http://static.red-lang.org/${path}" -O red
    chmod +x red
    cp red "${pkg}/usr/local/bin/"

    ./red <<< quit
    cp -R "$HOME/.red" "${pkg}/opt/red/skel/"

setup: |
  shopt -s dotglob; cp -R /opt/red/skel/* ./

repl: |
  red
input: |
  DELAY: 1
  123 * 234

main: "main.red"
template: |
  Red [Title: "Main"]

  print "Hello, world!"

run: |
  red main.red; red
